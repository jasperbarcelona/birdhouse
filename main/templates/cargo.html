<div class="content-header">
	<div class="content-right-btn-container">
		<button class="btn control-btn" onclick="show_cargo('reset')"><i class="material-icons">&#xE5D5;</i></button>
		<button id="addCargoBtn" class="btn control-btn" data-toggle="modal" data-target="#addCargoModal"><i class="material-icons md-30">add</i></button>
		<div class="pagination-btn-container">
			<div class="pagination-label-container">
				<span class="pagination-label"><strong id="paginationShowingCargos">{{ showing }}</strong></span>
				<span class="pagination-label separator">of</span>
				<span class="pagination-label"><strong id="paginationTotalCargos">{{ total_entries }}</strong></span>
			</div>
			{% if prev_btn == 'enabled' %}
			<button class="btn pagination-btn left cargo" onclick="cargo_prev_page()"><i class="material-icons">&#xE5CB;</i></button>
			{% else %}
			<button class="btn pagination-btn left cargo" onclick="cargo_prev_page()" disabled><i class="material-icons">&#xE5CB;</i></button>
			{% endif %}

			{% if next_btn == 'enabled' %}
			<button class="btn pagination-btn right cargo" onclick="cargo_next_page()"><i class="material-icons">&#xE5CC;</i></button>
			{% else %}
			<button class="btn pagination-btn right cargo" onclick="cargo_next_page()" disabled><i class="material-icons">&#xE5CC;</i></button>
			{% endif %}
		</div>
	</div>
</div>
{% if not cargo[0] %}
<div id="emptyCargo" class="empty-overlay">
	<span class="empty-label">No records yet.</span>
</div>
{% endif %}
<div id="contentBody" class="content-body">
	<table class="table content-table">
		<thead>
			<tr>
				<th class="cargo-truck-td">Truck</th>
				<th class="cargo-driver-td">Driver</th>
				<th class="cargo-load-td align-right">Load</th>
				<th class="cargo-departure-date-td align-right">Departure Date</th>
				<th class="cargo-arrival-date-td align-right">Arrival Date</th>
				<th class="cargo-arrival-time-td align-right">Arrival Time</th>
			</tr>
			<tr class="search-panel conversation">
				<td class="cargo-truck-td">
					<input type="text" id="searchCargosSender" class="form-control search-cargos search-text">
				</td>
				<td class="cargo-driver-td">
					<input type="text" id="searchCargosContent" class="form-control search-cargos search-text">
				</td>
				<td class="cargo-load-td align-right">
					<input type="text" id="searchCargosContent" class="form-control search-cargos search-text align-right">
				</td>
				<td class="cargo-departure-date-td align-right">
					<input type="text" id="searchCargosDate" class="form-control search-cargos search-text align-right datepicker">
				</td>
				<td class="cargo-arrival-date-td align-right">
					<input type="text" id="searchCargosDate" class="form-control search-cargos search-text align-right datepicker">
				</td>
				<td class="cargo-arrival-time-td align-right">
					<input type="text" id="searchCargosDate" class="form-control search-cargos search-text align-right datepicker">
				</td>
			</tr>
		</thead>
		<tbody id="cargosTbody">
			{% for entry in cargo %}
			<tr>
				<td class="cargo-truck-td" onclick="open_cargo({{ entry.id }})">{{ entry.truck }}</td>
				<td class="cargo-driver-td" onclick="open_cargo({{ entry.id }})">{{ entry.driver }}</td>
				<td class="cargo-load-td align-right" onclick="open_cargo({{ entry.id }})">{{ entry.load_size }}</td>
				<td class="cargo-departure-date-td align-right" onclick="open_cargo({{ entry.id }})">{{ entry.departure_date }}</td>
				<td class="cargo-arrival-date-td align-right" onclick="open_cargo({{ entry.id }})">{{ entry.arrival_date }}</td>
				<td class="cargo-arrival-time-td align-right" onclick="open_cargo({{ entry.id }})">{{ entry.arrival_time }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
<script type="text/javascript">
$('#addCargoBtn').on('click', function (e) {
    $('#messageContainer').show();
    $('#messageContainer').removeClass('minimized');
    $('#messageBody').focus();
});

$(".datepicker").datepicker({
    dateFormat: "MM dd, yy"
});

$('.search-cargos').keypress(function(e){
    if (e.which == 13) {
        search_cargos($(this).attr('id'));
    }
});

$('.cargo-check').on('click', function () {
  var entry_id = $(this).attr('data-id');
  if ($(this).hasClass('checked')) {
    $(this).removeClass('checked');
    $(this).html('&#xE835;');
    deselect_cargo(entry_id);
  }
  else {
    $(this).addClass('checked');
    $(this).html('&#xE834;');
    select_cargo(entry_id);
  }
});

</script>